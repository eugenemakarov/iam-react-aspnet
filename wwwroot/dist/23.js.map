{"version":3,"sources":["webpack:///./wwwroot/app/containers/LoginContainer/constants.js?00a0*","..\\..\\./wwwroot/app/containers/LoginContainer/reducer.js"],"names":["REQUEST_APP_INFO","REQUEST_APP_INFO_SUCCEEDED","REQUEST_APP_INFO_FAILURE","LOGIN_REQUEST","LOGIN_REQUEST_SUCCESS","LOGIN_REQUEST_FAILURE","REQUEST_USER_IMAGE","USER_IMAGE_SUCCESS","loginContainerReducer","state","fromJS","initialState","loginContainer","action","type","update","appInfo","createCookie","tokenInfo","tokenId","userInfo","rememberMe","localStorage","setItem","JSON","stringify","userEmail","removeItem","redirectPath","getCookie","window","location","href","isFailed","eraseCookie","getItem","undefined","imgURL","imageUrl"],"mappings":";;;;;;;;;;;;;AAAA;AAAA;;;;;;AAMO,IAAMA,mBAAmB,qCAAzB;AACA,IAAMC,6BAA6B,+CAAnC;AACA,IAAMC,2BAA2B,6CAAjC;;AAEA,IAAMC,gBAAgB,kCAAtB;AACA,IAAMC,wBAAwB,0CAA9B;AACA,IAAMC,wBAAwB,0CAA9B;;AAEA,IAAMC,qBAAqB,uCAA3B;AACA,IAAMC,qBAAqB,uCAA3B,C;;;;;;;;;;;;;ACfP;AAAA;;;;;;AAMA;AACA;AACA;;AAEA;;AAOA,SAASC,qBAAT,GAAoF;AAAA,MAArDC,KAAqD,uEAA7C,wEAAAC,CAAO,qEAAAC,CAAaC,cAApB,CAA6C;AAAA,MAARC,MAAQ;;AAClF,UAAQA,OAAOC,IAAf;AACE,SAAK,8EAAL;AACE,aAAOL,MACJM,MADI,CACG,SADH,EACc;AAAA,eAAWC,UAAUH,OAAOG,OAA5B;AAAA,OADd,CAAP;AAEF,SAAK,yEAAL;AACEC,MAAA,6GAAAA,CAAa,IAAb,EAAmBJ,OAAOK,SAAP,CAAiBC,OAApC,EAA6C,CAA7C;AACAN,aAAOO,QAAP,CAAgBC,UAAhB,IAA8B,IAA9B,GAAqCC,aAAaC,OAAb,CAAqB,WAArB,EAAkCC,KAAKC,SAAL,CAAe,EAACC,WAAWb,OAAOO,QAAP,CAAgBM,SAA5B,EAAf,CAAlC,CAArC,GAAiIJ,aAAaK,UAAb,CAAwB,WAAxB,CAAjI;AACA,UAAIC,eAAe,0GAAAC,CAAU,cAAV,CAAnB;AACAC,aAAOC,QAAP,CAAgBC,IAAhB,GAAuBJ,eAAeA,YAAf,GAA8B,YAArD;AACA,aAAOnB,MACJM,MADI,CACG,UADH,EACe;AAAA,eAAYkB,WAAW,KAAvB;AAAA,OADf,CAAP;AAEF,SAAK,yEAAL;AACE,UAAG,0GAAAJ,CAAU,IAAV,CAAH,EAAoB,4GAAAK,CAAY,IAAZ;AACpBZ,mBAAaa,OAAb,CAAqB,WAArB,KAAqCC,SAArC,GAAiDd,aAAaK,UAAb,CAAwB,WAAxB,CAAjD,GAAwF,EAAxF;AACA,aAAOlB,MACJM,MADI,CACG,UADH,EACe;AAAA,eAAYkB,WAAW,IAAvB;AAAA,OADf,CAAP;AAEF,SAAK,sEAAL;AACE,aAAOxB,MACJM,MADI,CACG,YADH,EACiB;AAAA,eAAUsB,SAASxB,OAAOyB,QAA1B;AAAA,OADjB,CAAP;AAEF;AACE,aAAO7B,KAAP;AApBJ;AAsBD;;AAED,+DAAeD,qBAAf,E","file":"23.js","sourcesContent":["/*\n *\n * LoginContainer constants\n *\n */\n\nexport const REQUEST_APP_INFO = 'app/LoginContainer/REQUEST_APP_INFO';\nexport const REQUEST_APP_INFO_SUCCEEDED = 'app/LoginContainer/REQUEST_APP_INFO_SUCCEEDED';\nexport const REQUEST_APP_INFO_FAILURE = 'app/LoginContainer/REQUEST_APP_INFO_FAILURE';\n\nexport const LOGIN_REQUEST = 'app/LoginContainer/LOGIN_REQUEST';\nexport const LOGIN_REQUEST_SUCCESS = 'app/LoginContainer/LOGIN_REQUEST_SUCCESS';\nexport const LOGIN_REQUEST_FAILURE = 'app/LoginContainer/LOGIN_REQUEST_FAILURE';\n\nexport const REQUEST_USER_IMAGE = 'app/LoginContainer/REQUEST_USER_IMAGE';\nexport const USER_IMAGE_SUCCESS = 'app/LoginContainer/USER_IMAGE_SUCCESS';\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/constants.js","/*\n *\n * LoginContainer reducer\n *\n */\n\nimport { fromJS } from 'immutable';\nimport initialState from '../../_shared/initialState';\nimport {getCookie, createCookie, eraseCookie} from '../../_shared/services/cookie-provider';\n\nimport {\n  REQUEST_APP_INFO_SUCCEEDED,\n  LOGIN_REQUEST_SUCCESS,\n  LOGIN_REQUEST_FAILURE,\n  USER_IMAGE_SUCCESS\n} from './constants';\n\nfunction loginContainerReducer(state = fromJS(initialState.loginContainer), action) {\n  switch (action.type) {\n    case REQUEST_APP_INFO_SUCCEEDED:\n      return state\n        .update('appInfo', appInfo => appInfo = action.appInfo);\n    case LOGIN_REQUEST_SUCCESS:\n      createCookie(\"tk\", action.tokenInfo.tokenId, 1); \n      action.userInfo.rememberMe == true ? localStorage.setItem('userEmail', JSON.stringify({userEmail: action.userInfo.userEmail})) : localStorage.removeItem('userEmail'); \n      let redirectPath = getCookie(\"redirectPath\");\n      window.location.href = redirectPath ? redirectPath : \"/dashboard\"; \n      return state\n        .update('isFailed', isFailed => isFailed = false);\n    case LOGIN_REQUEST_FAILURE:\n      if(getCookie(\"tk\")) eraseCookie(\"tk\");\n      localStorage.getItem('userEmail') != undefined ? localStorage.removeItem('userEmail') : '';\n      return state\n        .update('isFailed', isFailed => isFailed = true);\n    case USER_IMAGE_SUCCESS:\n      return state\n        .update('userImgURL', imgURL => imgURL = action.imageUrl);\n    default:\n      return state;\n  }\n}\n\nexport default loginContainerReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/reducer.js"],"sourceRoot":""}