{"version":3,"sources":["webpack:///./wwwroot/app/containers/LoginContainer/constants.js?00a0","webpack:///./wwwroot/app/containers/LoginContainer/actions.js?7248","..\\..\\./wwwroot/app/containers/LoginContainer/sagas/login-sagas.js","..\\..\\delegated ./node_modules/buffer/index.js from dll-reference vendor_99daecc06a0c6ccbc974","..\\..\\./wwwroot/app/containers/LoginContainer/sagas/sagas.js","webpack:///./wwwroot/app/_shared/config/environment.js?d868***"],"names":["REQUEST_APP_INFO","REQUEST_APP_INFO_SUCCEEDED","REQUEST_APP_INFO_FAILURE","LOGIN_REQUEST","LOGIN_REQUEST_SUCCESS","LOGIN_REQUEST_FAILURE","REQUEST_USER_IMAGE","USER_IMAGE_SUCCESS","requestAppInfo","type","requestAppInfoSucceeded","appInfo","requestAppInfoFailed","message","loginRequest","payload","loginSuccess","tokenInfo","userInfo","loginFailure","requestUserImage","userEmail","userImageSuccess","imageUrl","fetchAppInfo","fetchAppInfoSaga","loginUser","loginSaga","userImage","fetchUserImageURLSaga","fetchAppInfoFromServer","fetch","ApiSettings","searchPrefix","suffix","then","res","json","call","put","takeLatest","loginInfoToServer","hash","method","headers","response","Buffer","username","password","toString","rememberMe","takeEvery","fetchUserImageFromServer","info","console","log","imageURL"],"mappings":"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","file":"40.js","sourcesContent":["/*\n *\n * LoginContainer constants\n *\n */\n\nexport const REQUEST_APP_INFO = 'app/LoginContainer/REQUEST_APP_INFO';\nexport const REQUEST_APP_INFO_SUCCEEDED = 'app/LoginContainer/REQUEST_APP_INFO_SUCCEEDED';\nexport const REQUEST_APP_INFO_FAILURE = 'app/LoginContainer/REQUEST_APP_INFO_FAILURE';\n\nexport const LOGIN_REQUEST = 'app/LoginContainer/LOGIN_REQUEST';\nexport const LOGIN_REQUEST_SUCCESS = 'app/LoginContainer/LOGIN_REQUEST_SUCCESS';\nexport const LOGIN_REQUEST_FAILURE = 'app/LoginContainer/LOGIN_REQUEST_FAILURE';\n\nexport const REQUEST_USER_IMAGE = 'app/LoginContainer/REQUEST_USER_IMAGE';\nexport const USER_IMAGE_SUCCESS = 'app/LoginContainer/USER_IMAGE_SUCCESS';\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/constants.js","/*\n *\n * LoginContainer actions\n *\n */\n\nimport {\n  REQUEST_APP_INFO,\n  REQUEST_APP_INFO_SUCCEEDED,\n  REQUEST_APP_INFO_FAILURE,\n\n  LOGIN_REQUEST,\n  LOGIN_REQUEST_SUCCESS,\n  LOGIN_REQUEST_FAILURE,\n\n  REQUEST_USER_IMAGE,\n  USER_IMAGE_SUCCESS\n} from './constants';\n\nexport function requestAppInfo() {\n  return {\n    type: REQUEST_APP_INFO,\n  };\n}\n\nexport function requestAppInfoSucceeded(appInfo) {\n  return {\n    type: REQUEST_APP_INFO_SUCCEEDED,\n    appInfo,\n  };\n}\n\nexport function requestAppInfoFailed(message) {\n  return {\n    type: REQUEST_APP_INFO_FAILURE,\n    message,\n  };\n}\n\nexport function loginRequest(payload) {\n  return {\n    type: LOGIN_REQUEST,\n    payload\n  };\n}\n\nexport function loginSuccess(tokenInfo, userInfo) {\n  return {\n    type: LOGIN_REQUEST_SUCCESS,\n    tokenInfo,\n    userInfo\n  };\n}\n\nexport function loginFailure(message) {\n  return {\n    type: LOGIN_REQUEST_FAILURE,\n    message\n  };\n}\n\nexport function requestUserImage(userEmail){\n  return {\n    type: REQUEST_USER_IMAGE,\n    userEmail\n  };\n}\n\nexport function userImageSuccess(imageUrl){\n  return {\n    type: USER_IMAGE_SUCCESS,\n    imageUrl\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/actions.js","//import { take, call, put, select } from 'redux-saga/effects';\nimport { LOGIN_REQUEST, REQUEST_APP_INFO, REQUEST_USER_IMAGE } from './../constants';\nimport { takeLatest, takeEvery } from 'redux-saga';\nimport { call, put } from 'redux-saga/effects';\nimport { loginSuccess, loginFailure, requestAppInfoSucceeded, requestAppInfoFailed, userImageSuccess } from './../actions';\n\nimport {ApiSettings} from '../../../_shared/config/environment';\n\n// Individual exports for testing\nfunction fetchAppInfoFromServer() {\n  return fetch(ApiSettings.searchPrefix + 'applications/' + ApiSettings.suffix)\n    .then(res => res.json());\n}\n\nfunction* fetchAppInfo() {\n  try {\n    const appInfo = yield call(fetchAppInfoFromServer);\n    yield put(requestAppInfoSucceeded(appInfo));\n  } catch (e) {\n    yield put(requestAppInfoFailed(e.message));\n  }\n}\n\n// Individual exports for testing\nexport function* fetchAppInfoSaga() {\n  yield* takeLatest(REQUEST_APP_INFO, fetchAppInfo);\n}\n\n\nfunction loginInfoToServer(hash){\n    return fetch(ApiSettings.searchPrefix + 'auth/login/' + ApiSettings.suffix, {\n        method: 'POST',\n        headers:{\n            'Authorization': `Basic ${hash}`\n        }\n        }).then(response => response.json());\n}\n\nfunction* loginUser(userInfo){\n    try {\n        const hash = new Buffer(`${userInfo.payload.username}:${userInfo.payload.password}`).toString('base64');\n        const tokenInfo = yield call(loginInfoToServer, hash);\n        yield put(loginSuccess(tokenInfo, {rememberMe: userInfo.payload.rememberMe, userEmail: userInfo.payload.username}));\n      } catch (e) {\n        yield put(loginFailure(e.message));\n      }\n}\n\nexport function* loginSaga() {\n    yield* takeEvery(LOGIN_REQUEST, loginUser);\n}\n\nfunction fetchUserImageFromServer(info){\n  console.log(info.userEmail);\n  return fetch(ApiSettings.searchPrefix + 'users/profile?email=' + info.userEmail)\n  .then(res => res.json());\n}\n\nfunction* userImage(info) {\n  try {\n    const imageURL = yield call(fetchUserImageFromServer, info);\n    yield put(userImageSuccess(imageURL));\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nexport function* fetchUserImageURLSaga() {\n  yield* takeLatest(REQUEST_USER_IMAGE, userImage);\n}\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/sagas/login-sagas.js","module.exports = (__webpack_require__(6))(22);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/buffer/index.js from dll-reference vendor_99daecc06a0c6ccbc974\n// module id = 1549\n// module chunks = 40","//import { take, call, put, select } from 'redux-saga/effects';\nimport {\n  loginSaga,\n  fetchAppInfoSaga,\n  fetchUserImageURLSaga\n} from './login-sagas';\n\n// All sagas to be loaded\nexport default [\n  fetchAppInfoSaga,\n  loginSaga,\n  fetchUserImageURLSaga\n];\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/LoginContainer/sagas/sagas.js","export const ApiSettings = {\"searchPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/\",\"listPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/lists/\",\"filesPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/files/\",\"suffix\":\"iam-admin-test\"}\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/_shared/config/environment.js"],"sourceRoot":""}