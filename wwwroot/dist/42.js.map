{"version":3,"sources":["webpack:///./wwwroot/app/containers/HeaderContainer/constants.js?6183","webpack:///./wwwroot/app/containers/HeaderContainer/actions.js?05f2","..\\..\\./wwwroot/app/containers/HeaderContainer/sagas/fetchUserSaga.js","..\\..\\./wwwroot/app/containers/HeaderContainer/sagas/index.js","webpack:///./wwwroot/app/_shared/config/environment.js?d868****"],"names":["REQUEST_USER","REQUEST_USER_SUCCEEDED","REQUEST_USER_FAILED","requestUser","type","requestUserSucceeded","user","requestUserFailed","message","fetchUser","fetchUserSaga","fetchUserFromServer","fetch","ApiSettings","searchPrefix","then","res","json","call","put","window","location","href","takeLatest"],"mappings":";;;;;;;;AAAA;AAAA;;;;;;AAMO,IAAMA,eAAe,kCAArB;AACA,IAAMC,yBAAyB,4CAA/B;AACA,IAAMC,sBAAsB,yCAA5B,C;;;;;;;;;;;;ACRP;AAAA;;;;;;AAMA;;AAMO,SAASC,WAAT,GAAuB;AAC5B,SAAO;AACLC,UAAM,gEAAAJ;AADD,GAAP;AAGD;;AAEM,SAASK,oBAAT,CAA8BC,IAA9B,EAAoC;AACzC,SAAO;AACLF,UAAM,0EADD;AAELE;AAFK,GAAP;AAID;;AAEM,SAASC,iBAAT,CAA2BC,OAA3B,EAAoC;AACzC,SAAO;AACLJ,UAAM,uEADD;AAELI;AAFK,GAAP;AAID,C;;;;;;;;;;;;;;mDCjBSC,S;oDAeOC,a;;AA5BjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAASC,mBAAT,GAA+B;AAC7B,SAAOC,MAAS,+EAAAC,CAAYC,YAArB,wBACJC,IADI,CACC;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GADD,CAAP;AAED;;AAED,SAAUR,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEuB,uFAAAS,CAAKP,mBAAL,CAFvB;;AAAA;AAEUL,cAFV;;AAAA,eAGQA,IAHR;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAIY,sFAAAa,CAAI,qFAAAd,CAAqBC,IAArB,CAAJ,CAJZ;;AAAA;AAAA;AAAA;;AAAA;AAMMc,iBAAOC,QAAP,CAAgBC,IAAhB,GAAuB,WAAvB;;AANN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,iBASU,sFAAAH,CAAI,kFAAAZ,CAAkB,YAAEC,OAApB,CAAJ,CATV;;AAAA;AAUIY,iBAAOC,QAAP,CAAgBC,IAAhB,GAAuB,WAAvB;;AAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcA;AACO,SAAUZ,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA,yCACE,qFAAAa,CAAW,gEAAX,EAAyBd,SAAzB,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIP,yDAAeC,aAAf,E;;;;;;;;;;AChCA;;AAEA;AACA,+DAAe,CACb,+DADa,CAAf,E;;;;;;;;;ACHO,IAAMG,cAAc,EAAC,gBAAe,mDAAhB,EAAoE,cAAa,yDAAjF,EAA2I,eAAc,yDAAzJ,EAAmN,UAAS,gBAA5N,EAApB,C","file":"42.js","sourcesContent":["/*\n *\n * HeaderContainer constants\n *\n */\n\nexport const REQUEST_USER = 'app/HeaderContainer/REQUEST_USER';\nexport const REQUEST_USER_SUCCEEDED = 'app/HeaderContainer/REQUEST_USER_SUCCEEDED';\nexport const REQUEST_USER_FAILED = 'app/HeaderContainer/REQUEST_USER_FAILED';\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/HeaderContainer/constants.js","/*\n *\n * HeaderContainer actions\n *\n */\n\nimport {\n  REQUEST_USER,\n  REQUEST_USER_SUCCEEDED,\n  REQUEST_USER_FAILED,\n} from './constants';\n\nexport function requestUser() {\n  return {\n    type: REQUEST_USER,\n  };\n}\n\nexport function requestUserSucceeded(user) {\n  return {\n    type: REQUEST_USER_SUCCEEDED,\n    user\n  };\n}\n\nexport function requestUserFailed(message) {\n  return {\n    type: REQUEST_USER_FAILED,\n    message\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/HeaderContainer/actions.js","import { REQUEST_USER } from './../constants';\nimport { takeLatest } from 'redux-saga';\nimport { call, put } from 'redux-saga/effects';\nimport { requestUserSucceeded, requestUserFailed } from './../actions';\n\nimport {ApiSettings} from '../../../_shared/config/environment';\n\n// Individual exports for testing\nfunction fetchUserFromServer() {\n  return fetch(`${ApiSettings.searchPrefix}users/currentuser`)\n    .then(res => res.json());\n}\n\nfunction* fetchUser() {\n  try {\n    const user = yield call(fetchUserFromServer);\n    if (user) {\n      yield put(requestUserSucceeded(user));\n    } else {\n      window.location.href = \"/#/signin\"; \n    }\n  } catch (e) {\n    yield put(requestUserFailed(e.message));\n    window.location.href = \"/#/signin\"; \n  }\n}\n\n// Individual exports for testing\nexport function* fetchUserSaga() {\n  yield* takeLatest(REQUEST_USER, fetchUser);\n}\n\nexport default fetchUserSaga;\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/HeaderContainer/sagas/fetchUserSaga.js","import fetchUserSaga from './fetchUserSaga';\n\n// All sagas to be loaded\nexport default [\n  fetchUserSaga]\n;\n\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/containers/HeaderContainer/sagas/index.js","export const ApiSettings = {\"searchPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/\",\"listPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/lists/\",\"filesPrefix\":\"http://emanage-dev-iam-api.azurewebsites.net/api/files/\",\"suffix\":\"iam-admin-test\"}\n\n\n// WEBPACK FOOTER //\n// ./wwwroot/app/_shared/config/environment.js"],"sourceRoot":""}